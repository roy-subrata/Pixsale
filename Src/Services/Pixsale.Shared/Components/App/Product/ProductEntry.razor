@page "/add-product"
<div class="flex items-center space-x-3 text-xl font-semibold text-gray-800">
    <button @onclick="GoBack" class="text-tata hover:text-blue-900 focus:outline-none">
        ←
    </button>
    <h2>Add Product</h2>
</div>
<div class="p-6 mt-5 bg-white rounded-2xl shadow space-y-6">
    <!-- Product Name -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label>
        <input @bind="ProductName" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-tata" />
    </div>

    <!-- Category -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
        <div class="flex space-x-2">
            <select @bind="SelectedCategory" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tata">
                <option value="">Select category</option>
                @foreach (var cat in Categories)
                {
                    <option value="@cat">@cat</option>
                }
            </select>
            <button type="button" class="bg-tata text-white px-3 rounded-lg" @onclick="AddNewCategory">
                +
            </button>
        </div>
    </div>

    <!-- Unit -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Unit</label>
        <div class="flex space-x-2">
            <select @bind="SelectedUnit" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tata">
                <option value="">Select unit</option>
                @foreach (var unit in Units)
                {
                    <option value="@unit">@unit</option>
                }
            </select>
            <button type="button" class="bg-tata text-white px-3 rounded-lg" @onclick="AddNewUnit">
                +
            </button>
        </div>
    </div>

    <!-- Warehouse -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Warehouse</label>
        <div class="flex space-x-2">
            <select @bind="SelectedWarehouse" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tata">
                <option value="">Select warehouse</option>
                @foreach (var wh in Warehouses)
                {
                    <option value="@wh">@wh</option>
                }
            </select>
            <button type="button" class="bg-tata text-white px-3 rounded-lg" @onclick="AddNewWarehouse">
                +
            </button>
        </div>
    </div>

    <!-- Description -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
        <textarea @bind="Description" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tata"></textarea>
    </div>

    <!-- Save Button -->
    <div class="text-right">
        <button class="bg-tata text-white px-6 py-2 rounded-lg hover:bg-blue-900 transition" @onclick="SaveProduct">
            Save
        </button>
    </div>
</div>

@code {
    private string ProductName { get; set; }
    private string Description { get; set; }
    [Inject] NavigationManager NavigationManager { get; set; }
    private List<string> Categories { get; set; } = new() { "Electronics", "Clothing" };
    private List<string> Units { get; set; } = new() { "Piece", "Kg", "Liter" };
    private List<string> Warehouses { get; set; } = new() { "Main", "Secondary" };

    private string SelectedCategory { get; set; }
    private string SelectedUnit { get; set; }
    private string SelectedWarehouse { get; set; }

    private void AddNewCategory()
    {
        // Show modal or inline input for adding new category
    }

    private void AddNewUnit()
    {
        // Show modal or inline input for adding new unit
    }

    private void AddNewWarehouse()
    {
        // Show modal or inline input for adding new warehouse
    }

    private void SaveProduct()
    {
        // Handle form save
    }
    private void GoBack()
    {
        NavigationManager.NavigateTo("/product-list"); // Change to your actual return route
    }
}
